# PostHog MCP Server - Python Implementation

Python implementation of the PostHog Model Context Protocol (MCP) server.

## Setup

### 1. Install Dependencies with uv

For production:
```bash
uv sync
```

For development (includes schema generation tools):
```bash
uv sync --dev
```

### 2. Alternative: Create Virtual Environment Manually

If you prefer to use pip:
```bash
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -e .
```

## Development

### Schema Generation

The Python implementation uses Pydantic models generated from the TypeScript Zod schemas:

```bash
# From the root directory
pnpm run schema:build          # Generate both JSON schema and Python models
```

This generates type-safe Pydantic models in `schema/tool_inputs.py` based on the shared JSON schema.

### Project Structure

```
python/
├── pyproject.toml           # Project configuration and dependencies
├── uv.lock                 # Locked dependency versions (generated by uv)
├── schema/
│   └── tool_inputs.py      # Generated Pydantic models
└── scripts/
    └── generate-pydantic-models.sh  # Schema generation script
```

### Running Commands

All Python commands should be run through uv:

```bash
# Run tests
uv run pytest

# Format code
uv run ruff format .

# Lint code
uv run ruff check --fix .
```

### Dependencies

Dependencies are managed in `pyproject.toml`: